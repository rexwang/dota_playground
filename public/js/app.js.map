{"version":3,"sources":["app.js","add-a-team.js","team-info.js","region-factory.js","team-factory.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["'use strict';\n\nangular.module(\n  'DotaPlayground',\n  [\n    'ui.router',\n    'ngResource',\n    'ui.bootstrap'\n  ],\n  function($interpolateProvider) {\n    $interpolateProvider.startSymbol('<%');\n    $interpolateProvider.endSymbol('%>');\n  }\n)\n\n.config(function($stateProvider, $urlRouterProvider) {\n  // For any unmatched url, redirect to /dashboard\n  $urlRouterProvider.otherwise('/dashboard');\n\n  $stateProvider\n    .state('dashboard', {\n      url: '/dashboard',\n      templateUrl: 'templates/partials/dashboard.html'\n    })\n    .state('teams', {\n      url: '/teams',\n      templateUrl: 'templates/partials/teams/teams.html'\n    });\n});\n","angular.module('DotaPlayground')\n\n  .directive('addATeam', [\n    'teamFactory',\n    'regionFactory',\n    '$timeout',\n    function(teamFactory, regionFactory, $timeout) {\n      return {\n        scope: {},\n        templateUrl: 'templates/directives/add-a-team.tpl.html',\n        link: function(scope) {\n          scope.dateOptions = {\n            formatYear: 'yy',\n            startingDay: 1\n          };\n          scope.formats = ['dd-MMMM-yyyy', 'yyyy/MM/dd', 'dd.MM.yyyy', 'shortDate'];\n          scope.format = scope.formats[0];\n          scope.regions = regionFactory;\n\n          scope.addATeam = function(team) {\n            teamFactory.teamAPI().save(team).$promise\n              .catch(function(response) {\n                if (response.status == 422) {\n                  scope.errors = response.data;\n                }\n              })\n              .then(function(response) {\n                if (response) {\n                  // Hide the notification after 3 secs.\n                  $timeout(function() {\n                    scope.showNotification = false;\n                  }, 3000);\n                  teamFactory.teams.push(team);\n                  // Clear the form.\n                  scope.add_a_team_form.$setPristine();\n                  scope.team = null;\n                }\n              })\n              .finally(function() {\n                scope.showNotification = true;\n              });\n          };\n\n          scope.open = function($event) {\n            scope.opened = true;\n          };\n        }\n      };\n  }\n]);\n","angular.module('DotaPlayground')\n\n  .directive('teamInfo', [\n    'teamFactory',\n    'regionFactory',\n    '$modal',\n    function(teamFactory, regionFactory, $modal) {\n      return {\n        scope: {},\n        templateUrl: 'templates/directives/team-info.tpl.html',\n        link: function(scope) {\n          var modalInstance;\n          scope.regions = regionFactory;\n\n          if (teamFactory.initialLoad) {\n            // If initial load, query teams from API, and\n            // update the teams array in teamFactory.\n            scope.teams = teamFactory.teamAPI().query();\n            teamFactory.teams = scope.teams;\n          } else {\n            // If not initial load, simply read the array\n            // in teamFactory.\n            scope.teams = teamFactory.teams;\n          }\n\n          scope.open = function(size) {\n            modalInstance = $modal.open({\n              animation: true,\n              templateUrl: 'templates/partials/teams/team-modal.html',\n              resolve: {\n                items: function () {\n                  return teamFactory.teams;\n                }\n              }\n            });\n\n            modalInstance.result.then(function (selectedItem) {\n              scope.selected = selectedItem;\n            }, function () {\n              console.log('Canceled');\n            });\n          };\n        }\n      };\n    }\n  ]);\n","angular.module('DotaPlayground')\n\n  .factory('regionFactory', function() {\n    return [\n      'China',\n      'South-East Asia & Australia',\n      'Western Europe',\n      'Eastern Europe',\n      'North & South America'\n    ];\n  });\n","angular.module('DotaPlayground')\n\n  .factory('teamFactory', ['$resource', function($resource) {\n    // return $resource('api/teams');\n    return {\n      teamAPI: function() {\n        return $resource('api/teams');\n      },\n      teams: [],\n      initialLoad: true\n    };\n  }]);\n"],"sourceRoot":"/source/"}